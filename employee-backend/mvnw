#!/bin/sh
# Simplified Maven wrapper script to avoid depending on globally installed Maven.

set -e

BASEDIR=$(dirname "$0")
MAVEN_PROJECTBASEDIR=${MAVEN_PROJECTBASEDIR:-$(cd "$BASEDIR"; pwd)}
WRAPPER_JAR="$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar"
WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain

if [ -z "$JAVA_HOME" ]; then
  JAVA_CMD="java"
else
  JAVA_CMD="$JAVA_HOME/bin/java"
fi

exec "$JAVA_CMD" $MAVEN_OPTS -Dmaven.multiModuleProjectDirectory="$MAVEN_PROJECTBASEDIR" -classpath "$WRAPPER_JAR" $WRAPPER_LAUNCHER "$@"
